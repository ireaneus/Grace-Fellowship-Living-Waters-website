---
import { formatDate } from '../utils/dateUtils';
import sermonsData from '../content/sermons/sermons.json';

const { sermons } = sermonsData;
const latestSermon = sermons[0];
---

<div class="bg-white p-6 rounded-lg shadow-lg">
  <h2 class="text-2xl font-bold text-gray-900 mb-4">Latest Sermon</h2>
  {latestSermon && (
    <div>
      <h3 class="text-xl font-semibold text-gray-800">{latestSermon.title}</h3>
      <p class="text-gray-600 mt-2">Speaker: {latestSermon.speaker}</p>
      <p class="text-gray-500 mt-1">{formatDate(latestSermon.date)}</p>
      <p class="mt-4 text-gray-700">{latestSermon.description}</p>
      {latestSermon.videoUrl && (
        <div class="mt-6">
          <div class="aspect-w-16 aspect-h-9">
            <iframe
              src={latestSermon.videoUrl.replace('watch?v=', 'embed/')}
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              class="w-full h-full rounded-lg"
            ></iframe>
          </div>
        </div>
      )}
    </div>
  )}
</div>